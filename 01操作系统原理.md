<a id="mulu">目录</a>
<a href="#mulu" class="back">回到目录</a>
<style>
    .back{width:40px;height:40px;display:inline-block;line-height:20px;font-size:20px;background-color:lightyellow;position: fixed;bottom:50px;right:50px;z-index:999;border:2px solid pink;opacity:0.3;transition:all 0.3s;color:green;}
    .back:hover{color:red;opacity:1}
    img{vertical-align:bottom;}
</style>

<!-- @import "[TOC]" {cmd="toc" depthFrom=3 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [操作系统的分类（单选+多选）](#操作系统的分类单选多选)
- [操作系统的结构（单选+多选）](#操作系统的结构单选多选)
- [中断与异常（单选较多）](#中断与异常单选较多)
- [系统调用与一般过程调用](#系统调用与一般过程调用)
- [进程状态模型](#进程状态模型)

<!-- /code_chunk_output -->

<!-- 打开侧边预览：f1->Markdown Preview Enhanced: open...
只有打开侧边预览时保存才自动更新目录 -->

操作系统原理+计算机网络
每部分单选30+多选10，多选错选漏选没分
多选题里面的计算题和技巧题比较简单，占10'左右
### 操作系统的分类（单选+多选）
并发：多个事件在**同个**设备上同时发生
并行：在**不同**的设备上运行
互斥共享：各用户不能同时使用某个资源
同时共享：可以一起使用
**批处理操作系统**：
- **特点**：成批处理，可并发；用户不能干预；增加软件开发时间，适用于成熟程序；用于作业调度，不用于进程调度
- **优点**：自动化程度高、资源利用率高、吞吐量大、提高整个系统效率
- **缺点**：无法交互，不适合调试程序
- **应用**：处理薪水册、货物清单、各类账目等

**分时操作系统**：及时响应用户输入的**交互**命令
- **多路性**：多个用户同时使用一台计算机（宏观上多个人同时使用CPU，微观上多个人不同时使用）
- **交互性**：用户可以直接干预（根据系统响应提出请求），便于调试
- **独占性**：每个用户都感觉好像整个系统被他独占，资源利用率较低
- **及时性**：系统能够及时响应用户请求

**实时操作系统**：在严格**时间**范围内，对外部请求作出反应
- **过载防护**：可以在大量突发的实时任务中，找到最重要的任务，之后延后或清除次要任务，保证最重要的任务成功执行
- **可靠性高**：有很强的健壮性和坚固性

**易错点**：
- *运行速度快、成本低* 都是相对概念，需要根据具体情况，不能作为某种操作系统的特点
- *系统资源利用率(CPU利用率)高* 是批处理的，其它操作系统都没有这个特点
### 操作系统的结构（单选+多选）
**整体式结构**：大模块分为多个小模块
- **优点**：结构紧密、接口简单直接、系统效率较高
- **缺点**：
  - 模块间转接随便、**独立性差**，系统**结构不清晰**
  - 数据作为**全程量**处理，可被任何程序存取修改，**并发性差**，系统不稳定
  - **适应性差**

全程量：运行过程中不能更改模块/数据，在整个过程中都使用同一个
**层次结构**：**单向依赖**（上一层模块功能和资源基于下一层，也可以说上一层功能是下一层的扩充延续），**调用不同层**模块接口
- **优点**：
  - 整体问题**局部化、模块化**
  - 模块间**结构和依赖清晰**
  - **可读性、适应性、可靠性高**
  - 可增加/替换某层，同时不影响其它层，**易于调试**、修改、扩充和维护，保证正确性和稳定性
- **缺点**：
  - 模块**功能单一**
  - 系统**规模较大**

**微内核（客户机/服务器）结构**：
- **特点**：有两种内核
  - **核心态内核**：采用**层次结构**构成操作系统（微内核）
  - **用户态内核**：进程层以**客户机/服务器方式**运行
- **优点**：
  - **可靠**：分支自包含、耦合松散（局部错误不影响整体）
  - **灵活**：接口规范，便于维护
  - **分布式处理**：不同服务可运行在不同处理器上
- **缺点**：**效率低**（所有用户进程只能通过微内核通信，通信不便捷）
### 中断与异常（单选较多）
中断是由**外部事件（异步事件）**引发的，异常是由**正在执行的指令**引发的
**中断类型**：
- **I/O中断**：由I/O设备的控制器或通道引起，分为正常结束和异常结束，例如网卡数据缓冲区满、点击鼠标
- **时钟中断**：计时器产生，包括维护软件时钟、处理器调度、控制系统定时任务、实时处理
- **硬件故障中断**：硬件引起，需要保存现场并提供诊断信息，例如存储器校验错
- **控制台命令**

**异常类型**：
- **程序性中断**：**指令**出错/越权/寻址越界引发，包括算术溢出、被零除、目态（用户态）程序执行**非法指令**、**内存**保护出错（访问禁止访问的存储位置）、**虚拟存储器**缺页、xx**进程**出错
- **系统服务请求中断/访管中断**：处理器专用指令（访管指令）引发

只要出现*指令* 就是异常
补充：
- 核心态/系统态（管态）：操作系统有权限执行的
- 用户态（目态）：用户有权限执行的
- 目态切换到管态：通过中断和异常
- 管态切换到目态：修改程序计数器(PSW)
### 系统调用与一般过程调用
注：**一般过程调用**可简写为**一般调用**/**过程调用**
**区别**：
- 系统状态
  - **一般过程调用**：调用程序与被调用程序在**相同状态**，不涉及系统状态转换，允许直接调用
  - **系统调用**：**调用程序在用户态**，**被调用程序在系统态**，需要**系统状态转换**，不允许直接调用
- 返回问题
  - **一般过程调用**完成后，**直接返回到调用过程**
  - **系统调用**完成后，对进程进行优先级分析，可能重新调度，即**先运行调度程序再返回到调用过程**
- 嵌套调用：**系统调用的深度受限**，不能一直进行嵌套

**系统调用分类（较少考）**：
- **进程控制**：创建/终止进程、获得/设置进程属性
- **进程通信**：进程间传递消息/信号
- **文件操作**：创建/打开/关闭/读写文件、创建目录
- **设备管理**：请求/释放/启动设备
- **信息维护**：获得当前时间日期、设置文件访问权限/修改时间
### 进程状态模型
共分为三/五/七状态，其中**三状态是最基本的**
**三状态进程状态模型**：
- **运行状态**：进程已获得CPU，并在CPU上执行（**占用CPU**）。在单CPU系统中，只有一个进程处于运行态
- **就绪状态**：进程已具备除CPU以外的运行条件（**未获得CPU**），处于就绪状态的进程可以有多个
- **等待/阻塞/封锁状态**：进程因等待某种事件发生而暂时不能运行，处于等待状态的进程可以有多个

**状态间的转换**：由操作系统完成，对用户透明（用户不知道处于哪个状态），体现进程的动态性
![进程状态模型1](./md-image/进程状态模型1.png){:width=200 height=200}
- **就绪**状态通过**进程调用**（已最高优先级进入就绪队列）变为**运行**状态
- **阻塞**状态在**等待的事件发生**后变为**就绪**状态
- **运行**状态在分配的**时间片用完**（如需要的数据已准备就绪）后变为**就绪**状态（在时间片算法中）
- **运行**状态还可能因等待某个**事件发生**（如内存不足/溢出、需要的数据缺失）变为**阻塞**状态

注：
- 阻塞状态必须先变成就绪状态，才能进入运行状态。不可能直接从阻塞到运行
- 进程终止：出现中断或异常，不包括设备忙（被临时占用）

