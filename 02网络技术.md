<a id="mulu">目录</a>
<a href="#mulu" class="back">回到目录</a>
<style>
    .back{width:40px;height:40px;display:inline-block;line-height:20px;font-size:20px;background-color:lightyellow;position: fixed;bottom:50px;right:50px;z-index:999;border:2px solid pink;opacity:0.3;transition:all 0.3s;color:green;}
    .back:hover{color:red;opacity:1}
    img{vertical-align:bottom;}
</style>

<!-- @import "[TOC]" {cmd="toc" depthFrom=3 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [基础](#基础)
    - [计算机网络基本概念](#计算机网络基本概念)
    - [参考模型](#参考模型)
    - [操作系统](#操作系统)
    - [交换方式](#交换方式)
    - [数据传输](#数据传输)
    - [拓扑结构](#拓扑结构)
    - [APRANET](#apranet)
    - [无线自组网](#无线自组网)
- [局域网](#局域网)
    - [有线局域网](#有线局域网)
    - [无线局域网WLAN](#无线局域网wlan)
    - [虚拟局域网VLAN](#虚拟局域网vlan)
    - [帧](#帧)
    - [带宽计算](#带宽计算)
    - [802.11标准](#80211标准)
    - [其它](#其它)

<!-- /code_chunk_output -->

<!-- 打开侧边预览：f1->Markdown Preview Enhanced: open...
只有打开侧边预览时保存才自动更新目录 -->

### 基础
##### 计算机网络基本概念
- 基本特征/目的/功能：网络资源共享
- 是真实终端的集合，不是仿真终端
- 计算机间通信必须遵循相同网络协议
- 计算机间没有明确的主从关系
##### 参考模型
**OSI**：由7个层次构成

| 层次             | 作用                                       | 单位        |
| ---------------- | ------------------------------------------ | ----------- |
| 应用层（最高层） | 应用程序之间控制、域名解析                 | 数据单元PPU |
| 表示层           | 数据格式/加密                              | 数据单元PPU |
| 会话层           | 维持主机交流                               | 数据单元PPU |
| 传输层           | 端-端服务、进程通信(可靠的TCP/不可靠的UDP) | 报文        |
| 网络层           | 路由选择、差错控制                         | 分组        |
| 数据链路层       | 提供转发bit流                              | 帧          |
| 物理层（最底层） | 传输介质                                   | 比特序列    |

---

**TCP/IP**：由4个层次构成
| 层次                  | 作用                                       |
| --------------------- | ------------------------------------------ |
| 应用层 （最高层）     | 应用程序之间控制、域名解析                 |
| 传输层                | 端-端服务、进程通信(可靠的TCP/不可靠的UDP) |
| 互联网络层/互联层     | 路由选择、差错控制                         |
| 主机-网络层（最底层） | 传输介质                                   |

与OSI的对应关系：
![参考模型1](./md-image/参考模型1.png){:width=300 height=300}
##### 操作系统
**Windows**：
- 由**微软Microsoft**开发维护
- 可在微型机环境中运行
- 闭源

发展历程：
- NT：最早
- 2000：提供文件打印、Web服务等
- XP(2001)
- WIN server 2003：主要用于服务器（是Windows系统的服务器版本），提供图形用户界面
- WIN7(2009)：支持触控的桌面操作系统
- WIN8(2012)
- WIN10(2015)

---

**Linux**：
- 不是由**IBM**开发（Unix才是IBM开发）
- 可用于客户端/服务端
- 开源，完全免费，内核至今仍在升级
- 一种网络操作系统
- 核心部分是不同版本的Linux内核
- Linux由Unix发展而来，但不是Unix的变种（采用的内核不同）
##### 交换方式
**虚电路**：
- 发送前，在源节点与目的节点间建立**逻辑**连接
- 顺序发送，不会出现乱序、重复、丢失
  源节点分组顺序和目的节点接收分组顺序一定相同
  每个分组必须按相同路径传输
- 不需要路由选择
- 数据分组时不需携带源地址和目的地址

**数据报**：
- 传输前不需建立连接
- 每组传输路径可能不同
- 传输时需进行存储转发
- 数据分组时需要携带源地址和目的地址
- 存在乱序、重复、丢失等问题，传输延迟大
- 适用于突发性通信，不适用于长报文、会话式通信和局域网
##### 数据传输
数据传输速率：每秒传输的二进制比特数（不是文字数）
- 单位是`bps`
- 单位换算每级差1000倍：T>G>M>K
  1**T**bps=10^3^**G**bps=10^6^**M**bps=10^9^**K**bps=10^12^bps
##### 拓扑结构
**网状**：无规则的结构
- 节点间**任意连接**、无规律，没有中心节点，节点间数据传输延时不固定
- 可靠性高
- 常用于广域网
- 较复杂，转发时使用**路由选择**算法、流量控制

**星形**：所有的普通节点都连接在**中心节点**上
- 中心节点控制全网通信，是全网的瓶颈，一旦损害，可能造成全网瘫痪

**环形**：所有节点间形成一个**闭合环路**
- 数据沿环逐个节点传输，传输延时确定
- 节点间连接关系固定

**总线型**：所有节点传输时都要走同一条总线
- 使用CSMA/CD机制
- 总线是共享的传输介质
- 以广播方式发送数据
- 拓扑结构不变
##### APRANET
是ARPA支持的研究性网络，是所有网络的鼻祖
- 提出资源子网与通信子网的二级结构
- 采用**分组交换**，是**交换式**的局域网
- **网状结构**，**不对等**
- 传输介质是IMP（路由器）
- 是很早之前的技术，选项中出现现代技术词汇肯定不对（例如“智能终端”、“传感器网”、“无线自组网”）
##### 无线自组网
- 无中心结构
- 支持节点移动
- 不需要基础设施
- 拓扑结构不固定
### 局域网
##### 有线局域网
- 常用的传输介质：双绞线、光纤
- 最早的传输介质：同轴电缆(HFC)
  之后发展出：集线器、RJ45接口、非屏蔽双绞线
- 支持的最大传输速率：100Gbps
- CSMA/CD机制解决介质访问控制问题
- 数据帧：802.3帧，使用的地址是MAC地址

**分类**：
- **传统以太网**：是典型的总线型局域网，分为
  - 总线型
  - 令牌环网：采用环形拓扑
  - 令牌总线型
  
  令牌类网的介质访问控制方法是令牌，不是CSMA
  - 标准是802.3
  - 传输速率为10Mbps
- **快速以太网(FE)**：
  - 标准是802.3U
  - 传输速率为100Mbps
  - 定义了介质专用接口MII：分隔MAC层和物理层
- **千兆以太网(GE)**：
  - 标准是802.3Z
  - 传输速率为1Gbps
- **万兆以太网(10GbE)**：
  - 标准是802.3ae
  - 传输速率为10Gbps
  - 传输介质主要是光纤
  - 核心设备：交换机，只采用双工模式
  - 没有介质访问控制问题（没有CSMA/CD技术），采用光纤通道技术
  - 可支持组建宽带城域网
- **40/100GbE**：
  - 标准是802.3ba
  - 传输速率为40/100Gbps
  - 传输介质只用光纤（前面几个都是光纤+双绞线）
  - 波分复用技术：一根光纤复用4路25Gbps

**共享介质以太网**：
- 核心设备：集线器
- 使用CSMA/CD机制
- 数据传输时可能发生冲突
- 发现冲突时延时重发数据

**交换式以太网**：与无线局域网工作机制不同
- 核心设备：以太网交换机
  - 转发帧：直接转发、存储转发、改进直接转发
  - 使用端口/MAC地址映射表
  - 核心是交换机技术
  - 支持虚拟局域网
- 星形拓扑结构
- 使用**映射表**控制介质访问，不存在冲突问题
- 支持多对端口间的并发传输
- 基本传输单元：数据帧
##### 无线局域网WLAN
是有线局域网的补充
- 传输介质：无线电波（激光、红外线、微波等等）
- 仍有介质访问控制问题，使用CSMA/CA解决
- 包括无线自组网等
- 数据帧：802.11帧，使用的地址是MAC地址
- 标准是802.11
- 相关技术：
  - 跳频扩频技术FHSS
  - 直接序列扩频DSSS
    - 使用ISM频段(2.4GHz)
    - 最小传输速率：1/2Mbps
  - 点协调功能PCF
  - 分布式协调功能DCF
  - 虚拟监听VCS
##### 虚拟局域网VLAN
- 基于交换式局域网（不是无线网络）
- 不受物理位置控制
- 定义成员节点：IP/MAC地址、交换机端口、网络层协议
##### 帧
只要是帧，就不涉及IP地址，都是MAC地址
**以太网帧**：
- 帧校验字段采用CRC校验
- 前导码和帧前定界符总长为8字节
- 帧控制字段长度为2字节
- 帧数据字段：
  - 长度为46~1500B
    如果题中说加上帧头（18字节），就是64~1518B
  - 保存高层协议类型
- 帧网络字段：表示网络层协议类型
- 帧类型字段：表示帧的类型（控制帧、管理帧等），不是应用层协议类型
- 分类：如果题中没说是哪种帧，默认为Dix
  - **Dix**：没有帧前定界符，前8字节都是前导码
  - **802.3**：前导码7/8字节，帧前定界符1字节
    帧前定界符不计入帧头长度
    选项中说“前导码8字节”/“前导码7字节”都算对

**802.11**：与上面的有部分不同
- 数据字段：0~2312字节
##### 带宽计算
总带宽=Σ端口数\*全双工端口带宽\*2（如果不是全双工就不乘2）
例：总带宽为12.8Gbps，有24个百兆全双工端口，则千兆全双工端口数最多为
- 24\*100Mbps\*2+x\*1000Mbps\*2=12.8Gbps
- 如果算出来的结果不为整数，则向下取整（确保不超过总带宽）
##### 802.11标准
| 标准名(802.11x) | 频段                    | 最大传输速率(Mbps) | 兼容性    |
| --------------- | ----------------------- | ------------------ | --------- |
| a               | UNII-5GHz               | 54                 | 不兼容    |
| b               | ISM-2.4GHz              | 11                 | 不兼容    |
| g               | ISM-2.4GHz              | 54                 | 兼容b     |
| n               | UNII-5GHz<br>ISM-2.4GHz | 600                | 兼容a/b/g |

##### 其它
**MAC（物理地址）**：
- 唯一
- 长度为48位（6个8节）
- 后3字节由厂家分配
- 存储于网卡中

**CSMA/CA**：
- 不需令牌
- 在物理层执行载波侦听功能
- 重发数据前需等待一段时间
- 工作在WLAN的MAC层（不是VLAN）

**CSMA/CD**：
- 不需令牌，与无线AP无关
- 发送数据的第一个步骤：侦听总线


