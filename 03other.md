<a id="mulu">目录</a>
<a href="#mulu" class="back">回到目录</a>
<style>
    .back{width:40px;height:40px;display:inline-block;line-height:20px;font-size:20px;background-color:lightyellow;position: fixed;bottom:50px;right:50px;z-index:999;border:2px solid pink;opacity:0.3;transition:all 0.3s;color:green;}
    .back:hover{color:red;opacity:1}
    img{vertical-align:bottom;}
</style>

<!-- @import "[TOC]" {cmd="toc" depthFrom=3 depthTo=6 orderedList=false} -->

<!-- code_chunk_output -->

- [计算](#计算)
- [操作系统](#操作系统)

<!-- /code_chunk_output -->

<!-- 打开侧边预览：f1->Markdown Preview Enhanced: open...
只有打开侧边预览时保存才自动更新目录 -->

### 计算
**IPv6简写规则**：
- 每组前面的0的可以省略不写
    完整`2403:A200:A200:1100:0000:0000:0F00:0003`
    简写`2403:A200:A200:1100:0000:0000:F00:3`
- 连续为0的一组或多组，可以用`::`代替，一个IP中只能用一次`::`
    完整：`2403:A200:A200:1100:0000:0000:0F00:0003`
    简写：`2403:A200:A200:1100::F00:3`
- 如果一组中全为0，又不想用`::`代替，每组中要保留1个0
    完整：`2403:A200:A200:0000:AFFF:0000:0000:0003`
    简写：`2403:A200:A200:0:AFFF::3`

**页表占多少页面**：虚拟地址空间大小*物理页号/页面大小^2^
**页表长度**：进程地址空间/页面大小
**磁盘空间利用率**：
- 没有采用成组操作时：每个逻辑记录长度/块大小
- 采用成组操作时：每个逻辑记录长度/块大小*块因子

**每个进程最多可申请的资源数**=总资源数/进程数，向上取整
**用户程序最多可分成多少页**：2^逻辑地址位数^/内存分块大小
**有效访问时间**：访问内存时间+访问内存时间*(1-快表命中率)
**时间片设置**：响应时间/用户数
**进程最多申请资源个数**：[资源总数/进程数]+余数

---

ready就绪 suspend挂起 block阻塞 active激活

### 操作系统
操作系统--用户接口  
- 操作系统主要部分：进、存、设、文（进村舌吻）
- 硬上支下
- 角度看
  - 应用/服务--人机接口
  - 软件--软件开发平台
  - 发展/扩展--虚拟机
  - 网络攻击者--首当其冲
- 存储设备--没网盘
- 接口--图标命令调用
- 名称--没snmp/eclipse
- 类型--没多用户、没工业
- 环境--批处理 交互式 实时
- 安卓特性--移动应用、支持网络
- 观点--全都选
- 文件安全：副本、转储、访问控制
- 设备分配：不选设备分配表
- 设备与CPU：不选设备控制
- 资源管理：xx表
- 共享：没有扫描仪
- 随机：进程切换
- 并发：单处理器同时运行
- 软件功能：资源管理 控制程序
- 数据结构：动态更新

各种系统：
- 微内核：
  - 优点：无单向/通信效率 
  - 缺点：通信效率+不能直接通信
- 实时：两满足（截止时间 可靠性）
- 批处理：较高吞吐量
- 交互式：最小响应时间


程序：
- 多道程序：多个程序同时进入内存
  - 独立随机共享
  - 衡量指标：吞吐量
  - 根本目的：系统效率
  - 缺点：重定位
  - 提高利用率、缩短时间，宏观同时、微管顺序  
  - 并行--CPU和外设
  - 没有单一分区
- 并发程序--不对应、不再现、相制约、不封闭

进程：
- 运行[0,处理器数*核数] 就绪[0,max-1] 阻塞[0,max]
- 等待->就绪：唤醒
- 运行->就绪：时间片到，现场信息必保存
- 实现方式：用户 内核 混合
- 类型：计算 io
- 设备忙不终止
- 创建后首先就绪
- 资源长期不满足就挂起
- 进程调度一定不：就绪->运行 一定：运行->就绪
- PV不能实现共享
- 进程交换：代码数据控制块
- 设备分配时不创建
- **进程控制块/进程**：进程代码数据 无库表
  - 组织方式：线性索引链接
  - 现场信息：程序状态字、时钟、界地址   调度信息是其他的
- **进程优先级**：
  - 一般系统、静态不变、动态提升
  - 常驻自己内存
- 进程调度：任何交互情景  一个运行  功能没有唤醒
- 线程描述表：现场+两值
- 线程无空间
- 线程必要计数器、寄存器、栈
- 叙述：初值≥0 资源分配
- 信号量：pv p 0
- 并发进程不平等  相互直接间接不感知
  - 相互--竞争 无影响
  - 间接--共享
  - 直接--通信
- 进程互斥没有分派器
- 独立性：是分配单位
- 异步性：速度不可知
- 进程+线程：进不调 线不分 线不独立于进
- 解决互斥：协商+管理者
- 打开文件：先FCB
- 与程序相同点：数据、代码
- 并发：宏观一起向前
- 进程原语：无上下文


进程通信：
- 共享内存--创建**公共区域** **大量信息** 解决**互斥**关系
  - 互斥访问由程序员控制
- 消息机制--**公共缓冲区队列** 
  - 包括--缓冲区 队列 信号量 原语
- 管道通信--**共享文件**、同步、信息长度可变 速度慢
- 信箱通信--**异步** **不直连** **无时间限制**
- 消息缓冲/传递：在**内存**中
- 套接字：创建**通信机制**

调度算法：
- 目标：批处理--大短高  交互式--另两个
- 高优先级与时间无关
- 时间片：开销 进程数 性能

管程：
- 本身不互斥
- 互斥由本身性能实现
- 对象没有量

文件：
- 分类：
  - 组织--普通目录特殊
  - 用途--系统用户
  - 保护--只读可执行
  - 存放--临时档案永久
  - 物理--顺序链接索引
- 文件保护：不选文件
- 文件管理：不选散列/内存
- 文件系统：无磁盘
- 性能：没有io和dma（英文不提高性能）
- 文件控制块：文件名/大小/时间/权限/者/地址  无文件描述符/列表/目录
  - **用户--名**
  - 打开文件时不填写
- 文件目录：按名存取 无路径 必需地址
  - 提高效率：无限制个数
  - 树形：用户决定，没简化管理
    - 提高速度：将Linux链接到sun
- 系统打开文件表：可修改
- 基本单位信息项
- 创建文件：查找FCB后填写
  - 不检查权限  不需要保存期限
- 删除文件：先查找再检查
- 不定长记录文件：不固定长度 日志
- 流式文件：无结构二进制 代码
- ext2区分大小写
- 逻辑结构：查找/用户看到或使用  物理：管理/组织

存储：依赖于物理xx
- 虚拟页式：动态扩容
  - 磁盘低就增加，多就减少
  - 分页守护在后台
- 可变分区：多道程序、移动技术、大小递增
  - 内存紧缩：没有进程控制块
  - 移动技术：没有移动技术的不选  没有页式
- 页式：内存利用率高、管理简单
  - 页内低页号高
  - 逻辑连续 物理不相邻
  - 快表：缓冲器 是页表子集
  - 页表相关、平衡点
  - 管理空闲内存/内存分配表：两空闲 位示图
- 段式：没有快表和段表
- 段页式：快表 页表
- 虚存/进程部分交换：没有分区
- 一个进程分配内存/都连续/进程整个交换：分区
- 可扩容：虚拟
- 移动技术--没有

虚存：
- 计算机地址位宽
- 抖动--页面置换算法
- 硬件--缺页中断
- 新页面--磁盘文件
- 页表--有效 修改 访问
- 判断内存--驻留 中断
- 页面置换/修改--访问 修改
- 页面调入策略：请求 预先
- 页面装入/调入：无修改保护
- 页面淘汰：无驻留
- 没有越界中断
- 数据结构：空 页 位
- 叙述：支持 运行 空间 无内存/不变化/lru
- 具备条件：无快表/处理器
- 策略：固定（固定）/一定（可变）数目 本进程（局部）/任何进程（全局）替换  动态（可变）‘
- 页框策略：固定局部+两可变
- 页面调度：两置一调

物理结构：顺序链接索引节点
- 逻辑块号->磁盘块号
- 顺序：产生碎片 速度快 变换易 不动态
  - 较快全选 更快磁盘
- 索引：不选开销低/利用率高
  - 多级索引优点：两采用（动态增长、随机存取）
- 链接：fat32 检索慢 不随机 易增加 碎片少 变换难
- 成组链接：unix空闲区
- 随机存取：连续、索引

硬盘读写：
- 数据传输时间最短，调度时间无影响
- 电梯--扫描
- 最短寻道--时间短易饥饿
- 

I/O：低速高速是缓冲
- 缓冲池重点是缓冲区同步
- 设备独立层：映射到物理设备，便于用户使用
- 系统软件层：不同速度**缓冲区匹配**、提供系统调用、逻辑块、命名、独占设备、出错处理  没有中断、spooling系统
- 顺序：系统设备控制器
- 分类：
  - DMA：块设备主要、不经过CPU
    - 阶段选传送
    - 数据传输：硬件电路
  - 中断：字符设备主要、不查询状态
  - 程序直接控制：检测完成位
    - 准备就绪：输出已空 可写数据
  - 通道控制：有自己的指令程序
    - 数据通道：选 数 字
- DMA/中断：线/xx控制器（不包括设备控制器）  通道：线/xx控制器/设备控制器/代码  直接：全选
- 没有级联堆叠技术
- 软件部分没有硬件
- 硬件：设备 适配器
- 通信控制器：串行、网络、调节
- 设备控制器连接xx驱动器
- 提高性能：缓冲/异步/dma/虚拟

页面：
- 可采用不同大小
- 只能由操作系统设置，运行中不可改
- 工作集算法

用户内核态：CPU
- 用户态/调用文件读写功能首先执行/关闭中断--访管
- 内核->用户：状态字
- 用户->内核：访管/陷入机制
- 既能内核态又能用户态：移位

页面置换：
- 先进先出FIFO：**内存时间**最长，belady异常
- 最少使用LRU：最长**时间**没使用
- 最不常用LFU：页面使用**次数**
- 理想OPT：以后**不需要**的
- 未使用NRU：没被**访问修改**
- 第二次机会：继续搜索
- 访问位：两最近+时钟

中断异常：
- 中断不是进程
- 中断源：事件
- 中断请求：信号
- 中断响应：程序
- 中断断点：暂停点
- 进程不被打扰--屏蔽中断
- 被零除/缺页故障：异常
- 指令不中断

系统调用：
- 变量/管道不传参
- write打印
- open是文件操作，将文件块读入内存
- close将文件块写入磁盘缓存
- 阻塞->挂起：suspend
- send（receiver，message）
- receive：信箱名、地址
- 创建进程：PCB PCB 就绪
- 撤销进程：PCB 子孙 释放 撤销
- 唤醒进程：等待 就绪
- 阻塞进程：中断 保存 修改 阻塞

同步互斥：
- 同步：汽车装配、进程等待消息、打印数据进程
- 只互斥：订票
- 只同步：打麻将
- 既同步又互斥：玩魔兽
- 既不同步又不互斥：调程序
- 与时间相关：没考勤

PV操作：
- P减V增 
- 访问临界资源：先进入 最后退出
- P原语操作--进入区
- 共享--临界区--代码
  - 保护临界资源准则：没有互斥等待
- 打印数据进程--缓冲区
- mutex中k个等待--信号量=-k
- 信号量[4, 4-20]

链接编译：
- 链接：多个程序->可运行程序
- 重定位：逻辑->物理/绝对
  - 动态重定位：逻辑->物理  改变区域仍能运行
  - 静态重定位：物理->物理  执行时不转换

死锁饥饿：
- 饥饿：优先级低、得不到调度；没阻塞调度推后
- 活锁：没阻塞可调度没进展
- 死锁：阻塞无法唤醒
  - 原因：资源分配、进程推进
  - 定理：资源分配图不可化简
  - 预防：静态分配时加锁、资源有序分配  没有安全状态
  - 避免：银行家
  - 检测：资源分析
  - 解除/恢复：两个进程  没有注册表和安全模式
  - 死锁一定不是安全状态
  - 一个进程不死锁
  - 必要条件：无资源不足
- 相互竞争造成死锁
- 申请不同类资源：设备A/B
- 申请同类资源：内存

其它：
- Linux无安全状态
- 可重入代码--同时共享
- cpu/存储器/打印机（必须）--互斥共享
- 可再入程序--纯代码
- 可重用资源--内存
- 不可重用--时钟中断
- 地址转换--指令执行时、硬件完成
- 空间局部性--顺序  时间--循环
- 设管--方便用户/保证安全正确，没有改变/适配/总线/加速，工作没有处理器
  - 中断技术--效率
  - 缓冲技术--匹配不同速
  - 虚拟技术--并发度
- 外设命令传递顺序：应用 独立 驱动 设备
- 测试w：w1重测 w0置位 退出复位
- spooling系统：没有xx器
- 通道：字节 数据 数组
- 设备分配：没有及时性
- 处理器状态字：没有ARMPXW
- 改动子目录：查找 修改 写回 返回
- 删除子目录：查找 检查 收回
- 外储存设备存取：状态 数据 地址
- xx适配卡是块设备
- 银行存款程序：V清除 output访问其余部分
- 打印程序：lock进入区 fetch临界区 output剩余区 false退出区
- 可见寄存器：数据 地址 条形码
- CPU无内存，不刷新不切换，系统用户态
- 进程程序都有：代码数据，其余的进程有程序无


硬记：
- 小王选课--有可能
- 可变分区地址长度--下邻分区空闲
- 最大空闲分区--1234-886 1024-104
- 二级页表--3次内存
- write指令后果--写保护中断
- fifo/clock--75 lru--83/73 opt--58
- 缺页OPT选最小
- 盘面号为1
- 1000块启动2次磁盘
- n个缓冲区错误：mutex0和pp颠倒
- 读者写者：wp12可以取消
- 全选：进程改变的时间 分布式特点 通道功能 进程时机 存储管理范畴 程序在内存中移动 **工作/问题/基本条件/支持**
- PV不足不选“不能”
- 硬件互斥不选“可以”
- 存储保护选“三不”
- 处理器管理不选“地址越界”
- 设管和接口不选“磁盘”

---

xx网：
- 最重要：APR
- 共享介质--广播方式
  

**IEEE**：
- 11wlan
- 12介质
- 15个人
- 16宽带无线

**网络协议**：
- 语法是格式
- 

**DNS系统**：
- 非授权--不准确

**DNS资源记录**：
- A记录正向 PTR记录反向
- A主机
- SOA授权
- CNAME别名

**POP3**：
- pass--邮箱
- rest--复位
- stat--查询
- noop--无操作

**其它**：
- 以太网卡--MAC--48
- MTU--数据量
- IP组播--不是所有
- 响应请求--并发/重复
- pki--不分发给所有人
- 对称加密--RC开头、des/idea
- md5--对称不加密
- 1000base--T-非屏蔽 CX-屏蔽 LX-单模 SX-多模 没有W
- 个人区域网--没有WDM
- 介质访问控制方法--没有WCDMA
- base64--二进制->ASCII

**计算**：
- 主机向某地址直接广播
  - 目标地址：就用某地址算，与主机IP无关
  - 源地址：主机地址
- 路由器到达下一路由器地址：下一个路由器的入口IP
- 数据传输速率：1B=8b 乘8后再除时间
- 片偏移字段从第几个字节开始：片偏移字段*8

**多选硬记**：
- 802.11管理帧--不选英文
- Internet接入方式--解调 方式 不同
- 慢收敛--触 毒 水
- HTTP协议--不选“定义了web”
- IP服务特点--不可靠 无连接 尽最大努力
- 网关功能--信 号 路
- 网络故障管理--日志 检测 错误
- IPsec--不选64位